{"name":"f537c594-27dd-4d60-bc5f-9734f591c47f","id":"/providers/Microsoft.Flow/flows/f537c594-27dd-4d60-bc5f-9734f591c47f","type":"Microsoft.Flow/flows","properties":{"apiId":"/providers/Microsoft.PowerApps/apis/shared_logicflows","displayName":"GenerateThumbnail","definition":{"metadata":{"workflowEntityId":null,"processAdvisorMetadata":null,"flowclientsuspensionreason":"None","flowclientsuspensiontime":null,"creator":{"id":"f191f183-1aa9-4535-90eb-b86beef75e45","type":"User","tenantId":"1987588b-8c39-4142-bf65-99f3dd606a04"},"provisioningMethod":"FromDefinition","failureAlertSubscription":true,"clientLastModifiedTime":"2022-01-26T03:17:36.8690267Z"},"$schema":"https://schema.management.azure.com/providers/Microsoft.Logic/schemas/2016-06-01/workflowdefinition.json#","contentVersion":"1.0.0.0","parameters":{"$connections":{"defaultValue":{},"type":"Object"},"$authentication":{"defaultValue":{},"type":"SecureObject"}},"triggers":{"When_a_blob_is_added_or_modified_(properties_only)_(V2)":{"recurrence":{"frequency":"Minute","interval":3},"splitOn":"@triggerOutputs()?['body']","metadata":{"JTJmaW1hZ2VzZGVtb3M=":"/imagesdemos","operationMetadataId":"8c21c60c-222d-4ac9-bde3-9590e2702123"},"type":"OpenApiConnection","inputs":{"host":{"apiId":"/providers/Microsoft.PowerApps/apis/shared_azureblob","connectionName":"shared_azureblob","operationId":"OnUpdatedFiles_V2"},"parameters":{"dataset":"AccountNameFromSettings","folderId":"JTJmaW1hZ2VzZGVtb3M=","maxFileCount":1},"authentication":"@parameters('$authentication')"}}},"actions":{"Create_blob_(V2)":{"runAfter":{"Generate_Thumbnail":["Succeeded"]},"metadata":{"operationMetadataId":"2c1f3689-7edc-439b-ba11-1ee1c9fce2c3"},"type":"OpenApiConnection","inputs":{"host":{"apiId":"/providers/Microsoft.PowerApps/apis/shared_azureblob","connectionName":"shared_azureblob","operationId":"CreateFile_V2"},"parameters":{"dataset":"AccountNameFromSettings","folderPath":"/thumbnails","name":"@triggerOutputs()?['body/DisplayName']","body":"@body('Generate_Thumbnail')"},"authentication":"@parameters('$authentication')"},"runtimeConfiguration":{"contentTransfer":{"transferMode":"Chunked"}}},"Generate_Thumbnail":{"runAfter":{},"metadata":{"operationMetadataId":"f62f8f85-b00b-42d6-985b-fc318d3316de"},"type":"OpenApiConnection","inputs":{"host":{"apiId":"/providers/Microsoft.PowerApps/apis/shared_cognitiveservicescomputervision","connectionName":"shared_cognitiveservicescomputervision","operationId":"GetThumbnailV2"},"parameters":{"width":50,"height":50,"format":"Image URL","smartCropping":true,"Image/url":"https://storagepiovademos.blob.core.windows.net/imagesdemos/@{triggerOutputs()?['body/Name']}"},"authentication":"@parameters('$authentication')"}}}},"connectionReferences":{"shared_azureblob":{"connectionName":"shared-azureblob-93936a1b-6b46-4a02-914d-b3d1-3060eccb","source":"Embedded","id":"/providers/Microsoft.PowerApps/apis/shared_azureblob","tier":"NotSpecified"},"shared_cognitiveservicescomputervision":{"connectionName":"d4d438de91cf4860827b3c9352c674f4","source":"Embedded","id":"/providers/Microsoft.PowerApps/apis/shared_cognitiveservicescomputervision","tier":"NotSpecified"}},"flowFailureAlertSubscribed":false}}